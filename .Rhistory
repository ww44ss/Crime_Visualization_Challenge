requestURL=reqURL,
accessURL=accessURL,
authURL=authURL)
twitCred$handshake()
registerTwitterOAuth(twitCred)
reqURL <- "https://api.twitter.com/oauth/request_token"
twitCred <- OAuthFactory$new(consumerKey=consumerKey,
consumerSecret=consumerSecret,
requestURL=reqURL,
accessURL=accessURL,
authURL=authURL)
twitCred$handshake()
twitCred
require(TwitteR)
require(ROAuth)
install.packages("twitteR")
require(TwitteR)
require(ROAuth)
require(twitteR)
require(ROAuth)
## A real example, but using a fictitious consumerkey and consumer
## secret - you’ll need to supply your own
reqURL <- "https://api.twitter.com/oauth/request_token"
accessURL <- "http://api.twitter.com/oauth/access_token"
authURL <- "http://api.twitter.com/oauth/authorize"
consumerKey <- "7UddBUI2lFO6dIJuOplYuGSr4"
consumerSecret <- "UO50oEmKoIKP6LRBNrcs4LsPVekltKrDWQh6tMn7nQ9t5eB6SI"
twitCred <- OAuthFactory$new(consumerKey=consumerKey,
consumerSecret=consumerSecret,
requestURL=reqURL,
accessURL=accessURL,
authURL=authURL)
twitCred$handshake()
reqURL <- "https://api.twitter.com/oauth/request_token"
accessURL <- "https://api.twitter.com/oauth/access_token"
authURL <- "https://api.twitter.com/oauth/authorize"
consumerKey <- "7UddBUI2lFO6dIJuOplYuGSr4"
consumerSecret <- "UO50oEmKoIKP6LRBNrcs4LsPVekltKrDWQh6tMn7nQ9t5eB6SI"
twitCred <- OAuthFactory$new(consumerKey=consumerKey,
consumerSecret=consumerSecret,
requestURL=reqURL,
accessURL=accessURL,
authURL=authURL)
twitCred$handshake()
twts<-userTimeline("@WinstonOnEnergy", n=5)
registerTwitterOAuth(twitCred)
twts<-userTimeline("@WinstonOnEnergy", n=5)
twts
user <- getUser("@TripCheckUS20B")
hw20B<-userTimeline(user, n=5, maxID=NULL, sinceID=NULL, includeRts=FALSE)
hwy20B
hw20B
hwy20B<-userTimeline(user, n=500, maxID=NULL, sinceID=NULL, includeRts=FALSE)
str(hwy20B)
hwy20Bfull<-hwy20B
hwy20B<-cbind(hyw20Bfull$created, hwy20Bfull$text)
hwy20B<-cbind(hwy20Bfull$created, hwy20Bfull$text)
head(hwy20B)
hwy20B[1]
hwy20Bdate<-hwy20Bfull$created
hwy20Bdate[1]
str(hwy20Bfull$created)
hwy20Bfull[1,]
hwy20Bfull[1]
str(hwy20Bfull[1])
hwy20_df<-do.call(“rbind”,lapply(hwy20Bfull,as.data.frame))
?do.call
hwy20_df<-do.call(rbind,lapply(hwy20Bfull,as.data.frame))
hwy20_df[1,]
hwy20_df$text[1:3]
hwy20_df$created[1:3]
hwy20_df$created[length(hwy20_df$created)]
require(twitteR)
require(ROAuth)
## A real example, but using a fictitious consumerkey and consumer
## secret - you’ll need to supply your own
reqURL <- "https://api.twitter.com/oauth/request_token"
accessURL <- "https://api.twitter.com/oauth/access_token"
authURL <- "https://api.twitter.com/oauth/authorize"
consumerKey <- "7UddBUI2lFO6dIJuOplYuGSr4"
consumerSecret <- "UO50oEmKoIKP6LRBNrcs4LsPVekltKrDWQh6tMn7nQ9t5eB6SI"
twitCred <- OAuthFactory$new(consumerKey=consumerKey,
consumerSecret=consumerSecret,
requestURL=reqURL,
accessURL=accessURL,
authURL=authURL)
twitCred$handshake()
registerTwitterOAuth(twitCred)
reqURL <- "https://api.twitter.com/oauth/request_token"
accessURL <- "https://api.twitter.com/oauth/access_token"
authURL <- "https://api.twitter.com/oauth/authorize"
consumerKey <- "7UddBUI2lFO6dIJuOplYuGSr4"
consumerSecret <- "UO50oEmKoIKP6LRBNrcs4LsPVekltKrDWQh6tMn7nQ9t5eB6SI"
twitCred <- OAuthFactory$new(consumerKey=consumerKey,
consumerSecret=consumerSecret,
requestURL=reqURL,
accessURL=accessURL,
authURL=authURL)
twitCred$handshake()
registerTwitterOAuth(twitCred)
user <- getUser("@TripCheckUS20B")
hwy20Bfull<-userTimeline(user, n=600, maxID=NULL, sinceID=NULL, includeRts=FALSE)
hwy20_df<-do.call(rbind,lapply(hwy20Bfull,as.data.frame))
length(hwy20_df)
dim(hwy20_df)
hwy20_Santiam <-hwy20_df[grep("Santiam Pass Summit", hwy20_df$text),]
dim(hwy20_Santiam)
hwy20_SantiamCrash <-hwy20_Santiam[grep("crash", hwy20_Santiam$text),]
dim(hwy20_SantiamCrash)
install.packages("timeline")
?pause
?input
?readline
require(twitteR)
require(ROAuth)
## A real example, but using a fictitious consumerkey and consumer
## secret - you’ll need to supply your own
reqURL <- "https://api.twitter.com/oauth/request_token"
accessURL <- "https://api.twitter.com/oauth/access_token"
authURL <- "https://api.twitter.com/oauth/authorize"
consumerKey <- "7UddBUI2lFO6dIJuOplYuGSr4"
consumerSecret <- "UO50oEmKoIKP6LRBNrcs4LsPVekltKrDWQh6tMn7nQ9t5eB6SI"
twitCred <- OAuthFactory$new(consumerKey=consumerKey,
consumerSecret=consumerSecret,
requestURL=reqURL,
accessURL=accessURL,
authURL=authURL)
twitCred$handshake()
registerTwitterOAuth(twitCred)
dim(hwy20_df)
##Get tweets with Santiam Pass
hwy20_Santiam <-hwy20_df[grep("Santiam Pass Summit", hwy20_df$text),]
hwy20_SantiamCrash <-hwy20_Santiam[grep("crash", hwy20_Santiam$text),]
require (ggplot2)
require(lineplot)
require(timeline)
timeline(hwy20_SantiamCrash$created, )
timeline(hwy20_SantiamCrash$created, hwy20_SantiamCrash$text)
timeline(hwy20_SantiamCrash)
head(hwy20_SantiamCrash)
str(hwy20_SantiamCrash)
aa<-hwy20_SantiamCrash
aa$created<-as.Date(aa$created)
str(aa)
user <- getUser("@TripCheckUS20B")
hwy20Bfull<-userTimeline(user, n=600, maxID=NULL, sinceID=NULL, includeRts=FALSE)
##convert data to dataframe
hwy20_df<-do.call(rbind,lapply(hwy20Bfull,as.data.frame))
##convert times to R format
hwy20_df$created<-as>date(hwy20_df$created)
hwy20_df$created<-as.Date(hwy20_df$created)
dim(hwy20_df)
##Get tweets with Santiam Pass
hwy20_Santiam <-hwy20_df[grep("Santiam Pass Summit", hwy20_df$text),]
hwy20_SantiamCrash <-hwy20_Santiam[grep("crash", hwy20_Santiam$text),]
```
```{r "plot_the_data"}
require (ggplot2)
require(timeline)
hwy20_SantiamCrash$event[1]==hwy20_SantiamCrash$event[2]
hwy20_SantiamCrash$event[2]==hwy20_SantiamCrash$event[3]
hwy20_SantiamCrash$event[2]
hwy20_SantiamCrash$event
str(hwy20_SantiamCrash)
hwy20_SantiamCrash$created[1]==hwy20_SantiamCrash$created[2]
hwy20_SantiamCrash$created[2]==hwy20_SantiamCrash$created[3]
hwy20_SantiamCrash$created[3]==hwy20_SantiamCrash$created[12]
bb<-unique(hwy20_SantiamCrash$created)
head(bb)
hwy20_SantiamCrash<-hwy20_SantiamCrash[!duplicated(hwy20_SantiamCrash$created),]
dim(hwy20_SantiamCrash)
timeline(hwy20_SantiamCrash)
rangeYM<- c(hw20_SantiamCrash$created[length(hw20_SantiamCrash$created)], hw20_SantiamCrash$created[1])
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(df$YM,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
points(hwy20_SantiamCrash$create,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ypts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=txtpts
)
par(xpd=FALSE)
hwy20_SantiamCrash$text[1]
hwy20_SantiamCrash$text<-substring(hwy20_SantiamCrash$text,5,12)
hwy20_SantiamCrash$text[1]
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ypts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=txtpts
)
?text
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ypts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=txtpts, srt=90
)
par(xpd=FALSE)
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ypts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=txtpts, srt=90, pos = 3
)
par(xpd=FALSE)
lblpts <- rep_len(c(0,2), length.out=nrow(hwy20_SantiamCrash))
axis.Date(
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
lblpts <- rep_len(c(0,2), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ypts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=lblpts, srt=90
)
par(xpd=FALSE)
txtpts[1]
txtpts[1:5]
lblpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ypts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=lblpts, srt=90
)
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
lblpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ypts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=lblpts, srt=45
)
par(xpd=FALSE)
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
lblpts <- rep_len(c(3,1), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ypts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=lblpts, srt=45
)
par(xpd=FALSE)
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
ylblpts <- rep_len(c(-.9,.9), length.out=nrow(hwy20_SantiamCrash))
lblpts <- rep_len(c(3,1), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ylblpts,
labels=hwy20_SantiamCrash$text, cex=0.7, pos=lblpts, srt=90
)
par(xpd=FALSE)
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
ylblpts <- rep_len(c(-.9,.9), length.out=nrow(hwy20_SantiamCrash))
lblpts <- rep_len(c(3,1), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ylblpts,
labels=hwy20_SantiamCrash$text, cex=0.5, pos=lblpts, srt=90
)
par(xpd=FALSE)
rangeYM<- c(hwy20_SantiamCrash$created[length(hwy20_SantiamCrash$created)], hwy20_SantiamCrash$created[1])
rangeYM
plot(NA,ylim=c(-1,1),xlim=rangeYM,ann=FALSE,axes=FALSE)
abline(h=0,lwd=2,col="#5B7FA3")
ypts <- rep_len(c(-1,1), length.out=nrow(hwy20_SantiamCrash))
txtpts <- rep_len(c(1,3), length.out=nrow(hwy20_SantiamCrash))
ylblpts <- rep_len(c(-.9,.9, -.7, .7, -.5, .5), length.out=nrow(hwy20_SantiamCrash))
lblpts <- rep_len(c(3,1), length.out=nrow(hwy20_SantiamCrash))
segments(hwy20_SantiamCrash$created,0,hwy20_SantiamCrash$created,ypts,col="gray80")
axis.Date(
1,
at=seq.Date(rangeYM[1],rangeYM[2],by="month"),
format="%Y-%m",
cex.axis=0.6,
pos=0,
lwd=0,
lwd.tick=2,
col="#5B7FA3",
font=2
)
points(hwy20_SantiamCrash$created,y=ypts, pch="-", cex=1.5, col="#5B7FA3")
par(xpd=NA)
text(
hwy20_SantiamCrash$created, y=ylblpts,
labels=hwy20_SantiamCrash$text, cex=0.5, pos=lblpts, srt=90
)
par(xpd=FALSE)
source('~/Documents/TripcheckR/TwitterReader.R')
source('~/Documents/TripcheckR/TwitterReader.R')
?name
source('~/Documents/TripcheckR/TwitterReader.R')
source('~/Documents/TripcheckR/TwitterReader.R')
source('~/Documents/TripcheckR/TwitterReader.R')
datafile = "SFPD_Incidents_-_Previous_Three_Months.csv"
file = paste0(datadir,"/",datafile)
data <- read.csv(file)
##fix day of week order
datadir <-"sfpd"
files <- list.files(datadir)
len<-length(files)
datafile = "SFPD_Incidents_-_Previous_Three_Months.csv"
file = paste0(datadir,"/",datafile)
data <- read.csv(file)
getwd()
setwd("Crime_Visualization_Challenge")
file = paste0(datadir,"/",datafile)
data <- read.csv(file)
data$DayOfWeek <- factor(data$DayOfWeek, levels= c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
data<-data[complete.cases(data),]
data$Date<-as.Date(as.character(data$Date), "%m/%d/%Y")
data$Time <- as.numeric(substring(as.character(data$Time),1,2))
ddata<-dim(data)
ddata
require(ggplot2)
require(plyr)
dataX <- ddply(data,.(DayOfWeek, PdDistrict), nrow)
plotA <- ggplot(dataX, aes(x= factor(DayOfWeek), y = V1))
plotA<- plotA+ geom_bar(stat="indentity", colour=factor(PdDistrict))
str(dataX)
plaotA<-NULL
plotA<-NULL
plotA <- ggplot(dataX, aes(x= factor(DayOfWeek), y = V1))
plotA<- plotA+ geom_bar(stat="indentity", colour=factor(dataX$PdDistrict))
plotA<-NULL
plotA <- ggplot(dataX, aes(x= factor(DayOfWeek), y = V1))
plotA<- plotA+ geom_bar(stat="identity", colour=factor(dataX$PdDistrict))
plotA<-plotA+theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
plotA
plotA<-NULL
plotA <- ggplot(dataX, aes(x= factor(DayOfWeek), y = V1))
plotA<- plotA+ geom_bar(stat="identity", fill=factor(dataX$PdDistrict))
plotA<-plotA+theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
#plotA<-plotA+coord_flip()
plotA
plotA<-NULL
plotA <- ggplot(dataX, aes(x= factor(DayOfWeek), y = V1, fill = PdDistrict))
plotA<- plotA+ geom_bar(stat="identity")
plotA<-plotA+theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
plotA
plotA <- ggplot(dataX, aes(x= factor(DayOfWeek), y = V1, fill = PdDistrict))
plotA<- plotA+ geom_bar(stat="identity")
plotA<-plotA+theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
plotA<-plotA+ggtitle("Number of Crimes\nby Day of Week")
plotA<-plotA+ylab("total crimes")
plotA<-plotA+xlab("weekday")
#plotA<-plotA+coord_flip()
png("crimebyweekday.png")
plotA
dev.off()
matchidx <- as.data.frame(which(layout == i, arr.ind = TRUE))
